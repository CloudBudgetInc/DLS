<template>

	<lightning-card title="Calculation Rule Service">

		<lightning-layout slot="actions">
			<lightning-layout-item>
				<lightning-combobox
						name="budgetYearId"
						label="Budget Year"
						value={budgetYearId}
						placeholder="Select Budget Year"
						options={budgetYears}
						onchange={handleChange}></lightning-combobox>
			</lightning-layout-item>
			<lightning-layout-item>
				<div class="slds-p-top_large">
					<lightning-button label="Update Calc Rules" onclick={generateCalculationRules}
									  variant="success" disabled={generateButtonDisabled}
									  title="Create or update Calculation Rules based on templates for the selected budget year">
					</lightning-button>
				</div>
			</lightning-layout-item>
			<lightning-layout-item>
				<div class="slds-p-top_large">
					<lightning-button label="Recalculate Allocation"
									  onclick={runUpdatingInBatchForSelectedBudgetYear} variant="success"
									  disabled={generateButtonDisabled}
									  title="Recalculate the allocation of salaried staff to departments">
					</lightning-button>
				</div>
			</lightning-layout-item>
			<lightning-layout-item>
				<div class="slds-p-top_large">
					<lightning-button label="TQ"
									  onclick={updateTaskQueueForSelectedBudgetYear} variant="brand"
									  disabled={generateButtonDisabled}
									  title="Update task queue for an allocation job">
					</lightning-button>
				</div>
			</lightning-layout-item>
		</lightning-layout>

		<template if:true={showSpinner}>
			<lightning-spinner alternative-text="Loading"></lightning-spinner>
		</template>
	</lightning-card>

</template>